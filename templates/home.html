<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{{ url_for('static', path='css/visione.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', path='css/jquery-ui.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', path='css/queryByExample.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', path='css/toggle.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', path='css/palette.css') }}" />
    <!-- <link rel="stylesheet" href="css/bootstrap.css" /> -->

    <link rel="icon" type="image/x-icon" href="{{url_for('static',path='img/favicon.png')}}">
    <title>Trung đẹp trai vl ae</title>
  </head>

  <body 
    style="background-image: url('https://i.sstatic.net/kx8MT.gif'); background-size: cover;">
    <header>
      <h1 class="rainbow_text_animated"><b>DMCS</b></h1>
    </header>
    <main>
      <form id="request">
        <div class="headerGrid_del">
          <div class="search-container">
            <input
              type="text"
              name="scene_description"
              class="large-placeholder"
              placeholder="Describe the scene you are looking for..."
              value = "{{scene_description}}"
            />
            <input
              type="text"
              name="num_clip_query"
              class="large-placeholder"
              placeholder="Number of CLIP neareset"
              value=24
            />
          </div>
        </div>
        <div class="bodyGrid">
          <div class="sidebarGrid" id="searchSidebar" style="width: 310px">
            <div class="advanced" style="display: block">

              <div id="whiteboard" ondrop="dropPalette(event)" ondragover="allowDrop(event)"></div>
<br>
<div class="dragbox" palette_name = "watame" >
  <span id = "close-btn" class="close-btn" onclick="this.parentElement.remove()" hidden>×</span>
  <img draggable="true" ondragstart="dragPalette(event)" width="100%" height="100%" 
    id="palette-img" src="https://pbs.twimg.com/profile_images/1341868702606774272/UY8t3Nl9_400x400.jpg">
</div>

<div class="bbox-submit-button" onclick="bbox_submit()">Click Me</div>
              <div id="searchTab">
                <div class="scene0" id="canvasTab">
                  <div class="">
                    <div id="description_objects0">
                      <div class="font-large font-bold">
                        <strong id="sceneDes0" class="font-objects">
                          Objects &amp; colors of the scene</strong
                        >
                      </div>
                    </div>
                    <span class="font-tiny">
                      <input
                        type="radio"
                        id="canvas0_enabled"
                        name="canvas0"
                        value="enabled"
                        checked=""
                        onchange="setCanvasState(0, this)"
                      />
                      <label
                        for="canvas0_enabled"
                        style="color: green; font-weight: bold"
                        >Enabled</label
                      >
                      <input
                        type="radio"
                        id="canvas0_disabled"
                        name="canvas0"
                        value="disabled"
                        onchange="setCanvasState(0, this)"
                      />
                      <label
                        for="canvas0_disabled"
                        style="color: gray; font-weight: bold"
                        >Disabled &nbsp;</label
                      >
                    </span>
                    <span class="font-tiny">
                      Objects in
                      <input
                        type="radio"
                        id="and0"
                        name="occur0"
                        value="and"
                        checked=""
                        onchange="setOccur(this, 0)"
                      />
                      <label for="and0">AND</label>
                      <input
                        type="radio"
                        id="or0"
                        name="occur0"
                        value="or"
                        onchange="setOccur(this, 0)"
                      />
                      <label for="or0">OR</label>
                    </span>
                  </div>

                  <div id="block0" style="position: relative; display: block">
                    <div
                      id="canvasBlock0"
                      class="advanced"
                      style="display: block"
                    >
                      <div id="overlay0">
                        <div align="center" id="text0" style="color: gray">
                          Disabled
                        </div>
                      </div>
                      <div id="canvasdiv1">
                        <div
                          class="canvas-container"
                          style="
                            width: 275px;
                            height: 154px;
                            position: relative;
                            user-select: none;
                          "
                        >
                          <canvas
                            id="canvas0"
                            width="343.75"
                            height="192.5"
                            style="
                              border: 1px solid rgb(0, 0, 0);
                              position: absolute;
                              width: 275px;
                              height: 154px;
                              left: 0px;
                              top: 0px;
                              touch-action: none;
                              user-select: none;
                            "
                            class="lower-canvas"
                          ></canvas
                          ><canvas
                            class="upper-canvas"
                            width="275"
                            height="154"
                            style="
                              border: 1px solid rgb(0, 0, 0);
                              position: absolute;
                              width: 275px;
                              height: 154px;
                              left: 0px;
                              top: 0px;
                              touch-action: none;
                              user-select: none;
                              cursor: default;
                            "
                          ></canvas>
                        </div>
                      </div>
                    </div>
                    <div colspan="13" title="Scene Description">
                      <input
                        id="annotations0"
                        type="text"
                        size="0"
                        style="display: none"
                        class="ui-autocomplete-input"
                        autocomplete="off"
                      />
                    </div>
                    <div
                      class="advanced"
                      colspan="13"
                      title="Max Objects Number"
                      style="display: block"
                    >
                      <textarea
                        id="not0"
                        class="font-normal"
                        cols="38"
                        rows="2"
                        style="width: 275px; border-radius: 6px"
                        placeholder="Max Obj: e.g.: 2 person 3 car 0 dog, means at most 2 persons, 3 cars, no dogs"
                      ></textarea>
                      <div
                        id="textual0_container"
                        colspan="12"
                        title="Scene Description"
                      ></div>
                    </div>

                    <div class="advanced" style="display: block">
                      <div class="canvasClean">
                        <div class="canvasCleanItem">
                          <button
                            id="clean0"
                            class="btn btn-outline-danger btn-sm"
                            title="clean canvas 1"
                          >
                            <i class="fa fa-trash"></i>
                          </button>
                          <button
                            id="undo0"
                            class="btn btn-outline-success btn-sm"
                            title="undo clean canvas 1"
                          >
                            <i class="fa fa-undo"></i>
                          </button>
                        </div>
                        <div class="canvasCleanItem" style="display: none">
                          <div>
                            <span title="Black &amp; White Keyframe">
                              <input
                                id="isGray0"
                                type="checkbox"
                                onchange="setGray(0)"
                              />
                            </span>
                            <span title="Black &amp; White Keyframe">B/W</span>
                          </div>
                          <div>
                            <span title="Color Keyframe">
                              <input
                                id="isColor0"
                                type="checkbox"
                                onchange="setColor(0)"
                              />
                            </span>
                            <span title="Color Keyframe" class="colorCheckbox">
                              Color
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="scene1" id="canvasTab">
                  <div class="">
                    <div id="description_objects1">
                      <div class="font-large font-bold">
                        <i id="sceneDes1" class="fa fa-hourglass-end fa-1x">
                          Objects &amp; color next scene</i
                        >
                      </div>
                    </div>
                    <span class="font-tiny">
                      <input
                        type="radio"
                        id="canvas1_enabled"
                        name="canvas1"
                        value="enabled"
                        checked=""
                        onchange="setCanvasState(0, this)"
                      />
                      <label
                        for="canvas1_enabled"
                        style="color: green; font-weight: bold"
                        >Enabled</label
                      >
                      <input
                        type="radio"
                        id="canvas1_disabled"
                        name="canvas1"
                        value="disabled"
                        onchange="setCanvasState(0, this)"
                      />
                      <label
                        for="canvas1_disabled"
                        style="color: gray; font-weight: bold"
                        >Disabled &nbsp;</label
                      >
                    </span>
                    <span>
                      Objects in
                      <input
                        type="radio"
                        id="and1"
                        name="occur1"
                        value="and"
                        checked=""
                        onchange="setOccur(this, 1)"
                      />
                      <label for="and1">AND</label>
                      <input
                        type="radio"
                        id="or1"
                        name="occur1"
                        value="or"
                        onchange="setOccur(this, 1)"
                      />
                      <label for="or1">OR</label>
                    </span>
                  </div>

                  <div id="block1" style="position: relative; display: block">
                    <div
                      id="canvasBlock1"
                      class="advanced"
                      style="display: block"
                    >
                      <div id="overlay1">
                        <div align="center" id="text1" style="color: gray">
                          Disabled
                        </div>
                      </div>
                      <div id="canvasdiv1">
                        <div
                          class="canvas-container"
                          style="
                            width: 275px;
                            height: 154px;
                            position: relative;
                            user-select: none;
                          "
                        >
                          <canvas
                            id="canvas1"
                            width="343.75"
                            height="192.5"
                            style="
                              border: 1px solid rgb(0, 0, 0);
                              position: absolute;
                              width: 275px;
                              height: 154px;
                              left: 0px;
                              top: 0px;
                              touch-action: none;
                              user-select: none;
                            "
                            class="lower-canvas"
                          ></canvas
                          ><canvas
                            class="upper-canvas"
                            width="275"
                            height="154"
                            style="
                              border: 1px solid rgb(0, 0, 0);
                              position: absolute;
                              width: 275px;
                              height: 154px;
                              left: 0px;
                              top: 0px;
                              touch-action: none;
                              user-select: none;
                            "
                          ></canvas>
                        </div>
                      </div>
                    </div>
                    <div colspan="13" title="Scene Description">
                      <input
                        id="annotations1"
                        type="text"
                        size="0"
                        style="display: none"
                        class="ui-autocomplete-input"
                        autocomplete="off"
                      />
                    </div>
                    <div
                      class="advanced"
                      colspan="13"
                      title="Max Objects Number"
                      style="display: block"
                    >
                      <textarea
                        id="not1"
                        class="font-normal"
                        cols="38"
                        rows="2"
                        style="width: 275px; border-radius: 6px"
                        placeholder="Max Obj: e.g.: 2 person 3 car 0 dog, means at most 2 persons, 3 cars, no dogs"
                      ></textarea>
                      <div
                        id="textual1_container"
                        colspan="12"
                        title="Scene Description"
                      ></div>
                    </div>

                    <div class="advanced" style="display: block">
                      <div class="canvasClean">
                        <div class="canvasCleanItem">
                          <button
                            id="clean1"
                            class="btn btn-outline-danger btn-sm"
                            title="clean canvas 1"
                          >
                            <i class="fa fa-trash"></i>
                          </button>
                          <button
                            id="undo1"
                            class="btn btn-outline-success btn-sm"
                            title="undo clean canvas 1"
                          >
                            <i class="fa fa-undo"></i>
                          </button>
                        </div>
                        <div class="canvasCleanItem" style="display: none">
                          <div>
                            <span title="Black &amp; White Keyframe">
                              <input
                                id="isGray1"
                                type="checkbox"
                                onchange="setGray(1)"
                              />
                            </span>
                            <span title="Black &amp; White Keyframe">B/W</span>
                          </div>
                          <div>
                            <span title="Color Keyframe">
                              <input
                                id="isColor1"
                                type="checkbox"
                                onchange="setColor(1)"
                              />
                            </span>
                            <span title="Color Keyframe" class="colorCheckbox">
                              Color
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="headerItem">
                <div id="qbe" class="font-normal">
                  <div id="filter" class="advanced" style="display: block">
                    <div class="qbeGrid">
                      <div class="qbeItem">
                        <b id="urlText">Paste image URL</b>
                        <a
                          href="#"
                          id="urlLink"
                          onclick="changeQueryBySampleMod('url')"
                          style="display: none"
                          >Paste image URL</a
                        >
                      </div>
                      <div class="qbeItem column-span-2">
                        <b id="uploadText" style="display: none"
                          >Upload an image</b
                        >
                        <a
                          href="#"
                          id="uploadLink"
                          onclick="changeQueryBySampleMod('upload')"
                          >Upload an image</a
                        >
                      </div>

                      <div class="qbeItem column-span-2">
                        <input type="hidden" value="" id="objId" />
                        <input
                          id="urlToUpload"
                          name="url"
                          type="text"
                          size="34"
                        />
                        <input
                          style="display: none"
                          id="imageToUpload"
                          name="imgFile"
                          type="file"
                          size="34"
                        />
                      </div>
                      <div class="qbeItem column-span-1">
                        <input
                          type="image"
                          src="img/Search.png"
                          style="height: 20px"
                          value="Search"
                          id="queryByExample"
                          title="Search"
                          onclick="queryImg(); return false;"
                        />
                      </div>

                      <div class="qbeItem column-span-3">
                        <div
                          class="preview"
                          id="qbeblock"
                          style="display: none; padding-top: 10px"
                        >
                          <img src="" id="qbeImg" width="100" />
                          <img
                            id="removeqbe"
                            title="remove"
                            width="16"
                            style="vertical-align: top"
                            src="img/Actions-dialog-close-icon.png"
                            onclick="resetQueryImg()"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="contentGrid" id="content">
            <div id="loading-spinner">
              <i class="fas fa-spinner fa-spin"></i>
            </div>
            <div id="avsSelected" class="avsSelected">
              <div id="avsTab" style="display: block" class=""></div>
            </div>
            <div id="resGrid" class="resGrid">
              <div id="results" class="resGrid2">
                <div id="imgGridResults" class="gridcontainer"></div>
              </div>
              <ol id="recordingsList"></ol>
            </div>
          </div>
          <div
            class="rightSidebarGrid"
            id="submitted_bar"
            style="display: none"
          >
            <div style="color: green">
              Submitted: <b id="submitted_num" style="color: red"></b>
            </div>
            <div id="avsSubmittedTab" style="display: block"></div>
          </div>
        </div>
      </form>
    </main>
  </body>
  <script src="{{url_for('static', path='/js/main.js')}}"></script>
  <script src="{{url_for('static', path='/js/palette.js')}}"></script>
</html>
